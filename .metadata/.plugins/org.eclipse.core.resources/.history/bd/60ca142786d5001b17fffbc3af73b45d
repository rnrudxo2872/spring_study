package com.itwillbs.persistence;

import javax.inject.Inject;

import org.apache.ibatis.session.SqlSession;
import org.springframework.stereotype.Repository;

//@Repository : 스프링에 DAO파일을 인식한다.
//		=>root-context.xml파일에서 해당객체를 bean으로 인식

@Repository
public class MemberDAOImpl implements MemberDAO{
	//DAO 객체
	
	//디비 연결 + 자원해제 객체를 생성 => SqlSessionTemplate가 함
	// => 객체를 주입받아서 사용
	
	@Inject
	private SqlSession sqlSession;
	
	// mapper 주소
	private static final String namespace = "com.itwillbs.mapper.MemberMapper";
	
	@Override
	public String getTime() {
		System.out.println("세션 : ==== " + sqlSession);
		System.out.println("DB-SQL 구문 실행");
		
		System.out.println("sqlSession 객체를 사용해서 mapper 호출 sql 실행");
		sqlSession.selectOne(namespace);
		
		return null;
	}
}
